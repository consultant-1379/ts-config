# External values file
# Please set up the values regarding to deployment which you want to deploy
# Please remove the double curly brackets {% raw %}{{}}{% endraw %} surrounding the final value to set it right


global:
  coredumps:
    enabled: true

  ericsson:
    licensing:
      licenseDomains:
        - productType: "CCSM"
          customerId: "{{ license.customerId }}"
          swltId: "{{ license.swltId }}"

  ## Specific values for Auto-provisioning error handling. Not documented in Day-0 of standard releases.
  #flexibleErrorHandling:
  #  autoprovUeauTrigger:
  #    status: 403
  #    cause: "AUTHENTICATION_REJECTED"
  #  autoprovSdmTrigger:
  #    status: 404
  #    cause: "DATA_NOT_FOUND"
  ##

  ## CCSM FSGROUP CONFIGURATION
  #  The next configuration defines the global fsGroup, if different configuration is needed change on purpose.
  #
  #  NOTE:
  #  - The default value 10000 for fsGroup will be used when no other value will be set.
  {% if caas == 'OpenShift' %}
  fsGroup:
    manual: false
    namespace: true
  {% else %}
  {# this setup is not applicable in OpenShift environment since the fsGroup is assigned automatically#}
  fsGroup:
    manual: 10000
    namespace: false

  {% endif %}
  hssHandling:
    failover:
      errorHttpServiceUnavailableAsFailNhssUecm: "off"

  # Determines if enable the internal mTLS communication
  # Enable set it "on" / Disable set it "off"
  internalMtls:
    enabled: "on"

  ## CCSM EGREES GATEWAY CONFIGURATION for NRF Agent
  #  The next configuration defines the global egrees Gateway
  #  default configuration, if different configuration is needed,
  #  uncomment and change on purpose.
  #
  #  NOTE:
  #  - When mtls profile is selected, it enables the egrees automatically and
  #    the endpoint host and port must be updated on purpose.
  #  - When cleartext profile is selected, it disables egrees and the enpoints
  #    content must be manually removed on purpose.
  istio:
    # Egrees: Update the endpoint host and port on purpose
    egress:
      endpoints:
        eric-ccsm-sbi-traffic-mtls:
          enabled: true
          {% if caas == 'Tanzu' %}
          host: "*.{{ vnflcm.clusterName }}.5gc.mnc{{ mnc|mnc|mnc3 }}.mcc{{ mcc|mcc }}.3gppnetwork.org"
          {% else %}
          host: "*.5gc.mnc{{ mnc|mnc|mnc3 }}.mcc{{ mcc|mcc }}.3gppnetwork.org"
          {% endif %}
          ports:
            - port: 443
              name: https-port-for-mTLS-origination
              protocol: HTTP2
              mode: mTLS
              cacert: /etc/istio/egress-ca-certs/ca-chain.cert.pem
          resolution: NONE

  # This global configuration applies to all eric-ccsm-mapproxy instances
  map:
    #Total number of stacks to be deployed, regardless if they are shared/dedicated. Max stacks number is 4
    mapStacksNumber: 2
    configuration:
      ss7:
        signalingNetwork:
          networkStandard: "itu"
        m3ua:
          asProfile:
            - dupu-behavior: "dpc-omitted"
              dupu-handling: "no-dupu-handling"
              id: 1
              interval-for-mtp-status-ind: 8
              notify-behavior: "resume-after-aspac-ack"
              timer-divert: 10
              timer-notify: 0
              timer-scon: 75
              timer-tr: 100
          abatementThresholdLevel1: 150
          abatementThresholdLevel2: 400
          abatementThresholdLevel3: 650
          burstSize: 0
          checkDpcStatusInIpNetwork: "not-check-opc-status"
          congestionProcForRemoteSgps: "use-both-daud-and-tscon"
          forbidMessageFromUnknownDpc: "not-check-opc"
          handleIncomDataMsgWithoutAs: "discard-msg"
          internalCongestionLevel1: 250
          internalCongestionLevel2: 500
          internalCongestionLevel3: 750
          loadsharingAlgorithm: "basic"
          maxNumberOfBurstsWithoutProgress: 0
          modifiedSlsRotation: "no-sls-rotation"
          retransmitBufferSize: 1024
          supportDynamicRegistrOfAsp: "dynamic-identif-only"
          timerBurst: 10
          timerBurstJittering: 0
          timerCongAudit: 60000
          timerInitConf: 100
          timerReinit: 100
          timerRetransmit: 5
          remoteSpProfile:
            - assoc-establishment-attempts: 4
              attempts-of-dauds: 5
              drst-support: "rfc-4666-compliant"
              heartbeat-procedure: "hb-off"
              id: 1
              max-num-of-affected-dpcs-in-daud: 0
              ntfy-support: "rfc-4666-compliant"
              timer-ack: 60
              timer-assoc: 20
              timer-audit: 300
              timer-deactivation: 0
              timer-hb: 300
              timer-rec: 100
              timer42: 8
              tmt-support: "rfc-4666-compliant"
        tcapEit:
          timerDialogue: 30000
  {% raw %}
  ## Valid values: {{eMBB|mIoT}}
  {% endraw %}
  networkType: eMBB

  # Service Mesh and CCSM NFs global settings
  {% if caas == 'Tanzu' %}
  nodeSelector:
    aafgroup: aaf1
    type: standard
  {% else %}
  nodeSelector: {}
  {% endif %}
  #  ericsson-5gc-se/vnf: ccsm

  # Determines if the nrfagent is going to be deployed or not
  # This information is required by the microservices that communicate
  # with the nrfagent so that they create the internal certificates or not
  # Enable set it "true" / Disable set it "false"
  nrfagent:
    enabled: true

  ## CCSM profiles selection
  # Enable only one profile per group
  # Size:
  # - small-system  (Small Size Systems -Enterprise & Telco)
  # - std-system (Standard System - Telco)
  # Security in the outgoing/incoming traffic:
  # - mtls (mTLS)
  # - cleartext (Clear Text)
  # IP Stack version:
  # - ipv4
  # - ipv6
  profiles:
    small-system:
      enabled: {{ 'true' if systemProfile == 'small' else 'false' }}
    std-system:
      enabled: {{ 'true' if systemProfile == 'standard' else 'false' }}
    cleartext:
      enabled: false
    mtls:
      enabled: true
    ipv4:
      enabled: true
    ipv6:
      enabled: false

  registry:
  {% if caas == 'Tanzu' %}
    url: {{ harborUrl }}
  {% else %}
    url: armdocker.rnd.ericsson.se
  {% endif %}
    imagePullPolicy: IfNotPresent

  scpHandling:
    failover:
      errorHttpServiceUnavailableAsFailNudmUecm: "off"
      errorHttpServiceUnavailableAsFailNudmSdm: "off"
      errorHttpServiceUnavailableAsFailNamfMtLoc: "off"
      errorHttpServiceUnavailableAsFailNamfEvts: "off"

  # CCSM Security DR-124 - Pod Security Policies (PSP) and Security Context Constraints (SCC).
  security:
    {% if caas == 'OpenShift' %}
    policyBinding:
      ## create indicate whether needs to auto-create the rolebinding
      ## for the clusterRole used for pod security policy.
      create: true
    policyReferenceMap:
      ## the clusterRole name defined for pod security policy.
      default-restricted-security-policy: default-restricted-security-policy
      plc-privileged-for-sctp-ccsm: plc-privileged-for-sctp-ccsm
      plc-29c4b823c87a16cad810082eb11106: plc-29c4b823c87a16cad810082eb11106
      plc-dd66cc53d8554f93ad34971900932e: plc-dd66cc53d8554f93ad34971900932e-wa
      plc-59d0cf1dcc793a78b6ce30bfbe6553: plc-59d0cf1dcc793a78b6ce30bfbe6553
      plc-38dc0a0ee2b2564ef10039d2c6c0e0: plc-38dc0a0ee2b2564ef10039d2c6c0e0
      plc-privileged-for-istio: plc-privileged-for-istio
      plc-eric-tm-sctp: plc-eric-tm-sctp
    {% else %}
    policyBinding:
      create: false
    {% endif %}

  timezone: {{ timezone|default(UTC) }}

  udrHandling:
    failover:
      errorHttpServiceUnavailableAsFailNudrDr: "off"
      errorHttpServiceUnavailableAsFailNcudrGudDr: "off"
    # Seconds to delay UDM deregistration when UDR is not available, to wait to get some new UDRs from NRF.
    nrfWaitingTime: 0

  # Determines if enable the injection of vTAP agent sidecar for SW PROBE function
  # Enable set it "true" / Disable set it "false"
  vtapagent:
    enabled: {{ vtap.tapagent|default(true)|string|lower }}


## SERVICE MESH SPECIFIC SETTINGS
#  The next configuration defines the Service Mesh default configuration,
#  if different configuration is needed, uncomment and change on purpose.
#
#  NOTE:
#    Two values between double curly brackets {% raw %}{{mtls|cleartext}}{% endraw %} default values
#    Do not change the targetPort
#    Disable eric-ingressgw-<NF>-traffic if no NF will be installed
eric-ccsm-service-mesh:
  eric-ingressgw-ausf-traffic:
    enabled: true
    service:
      type: LoadBalancer
      loadBalancerSourceRanges: []
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: sig-pool
          ako.vmware.com/load-balancer-ip: {{ ccsm.ausf5gSigVip }}
      {% else %}
      loadBalancerIP: ""
      annotations:
        addressPoolName: ccsm{{ instance | default("") }}-ausf-5g-sig
      {% endif %}
    #ports:
    {%- raw %}
    #  - name: {{https-mtls|http2-clear}}
    #    port: {{443|80}}
    {% endraw %}
    #    targetPort: 8080
  eric-ingressgw-udm-traffic:
    enabled: true
    service:
      type: LoadBalancer
      loadBalancerSourceRanges: []
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: sig-pool
          ako.vmware.com/load-balancer-ip: {{ ccsm.udm5gSigVip }}
      {% else %}
      loadBalancerIP: ""
      annotations:
        addressPoolName: ccsm{{ instance | default("") }}-udm-5g-sig
      {% endif %}
    #ports:
    {%- raw %}
    #  - name: {{https-mtls|http2-clear}}
    #    port: {{443|81}}
    {% endraw %}
    #    targetPort: 8081
    #    tcpkeepalive:
    #      time: 60
    #      interval: 30
    #      probes: 2
    #  - name: http-clear
    #    port: 82
    #    targetPort: 8082
    #    tcpkeepalive:
    #      time: 60
    #      interval: 30
    #      probes: 2
  eric-ingressgw-eir-traffic:
    enabled: {{ 'false' if systemProfile == 'small' else 'true' }}
    service:
      type: LoadBalancer
      loadBalancerSourceRanges: []
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: sig-pool
          ako.vmware.com/load-balancer-ip: {{ ccsm.eir5gSigVip }}
      {% else %}
      loadBalancerIP: ""
      annotations:
        addressPoolName: ccsm{{ instance | default("") }}-eir-5g-sig
      {% endif %}
    #ports:
    {%- raw %}
    #  - name: {{https-mtls|http2-clear}}
    #    port: {{443|83}}
    {% endraw %}
    #    targetPort: 8083
  eric-ingressgw-epc-soap-traffic:
    enabled: false
    service:
      type: LoadBalancer
      loadBalancerSourceRanges: []
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: oam-pool
          ako.vmware.com/enable-shared-vip: oam-ccsm-shared
          ako.vmware.com/load-balancer-ip: {{ ccsm.ccsmOamVip }}
      {% else %}
      loadBalancerIP: ""
      annotations:
        addressPoolName: ccsm{{ instance | default("") }}-oam
        sharedVIPLabel: ccsm-oam
      {% endif %}
    #ports:
    {%- raw %}
    #  - name: {{http}}
    #    port: {{84}}
    {% endraw %}
    #    targetPort: 8084
  eric-ingressgw-hss-epc-traffic:
    enabled: true
    service:
      type: LoadBalancer
      loadBalancerSourceRanges: []
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: sig-pool
          ako.vmware.com/load-balancer-ip: {{ ccsm.hssEpcHttpSigVip }}
      {% else %}
      loadBalancerIP: ""
      annotations:
        addressPoolName: ccsm{{ instance | default("") }}-hss-epc-http-sig
      {% endif %}
    #ports:
    {%- raw %}
    #  - name: {{http2-clear}}
    #    port: {{80}}
    {% endraw %}
    #    targetPort: 8086
  eric-ingressgw-ims-soap-traffic:
    enabled: false
    service:
      type: LoadBalancer
      loadBalancerIP: ""
      loadBalancerSourceRanges: []
      annotations:
        addressPoolName: ccsm{{ instance | default("") }}-oam
        sharedVIPLabel: ccsm-oam
    #ports:
    {%- raw %}
    #  - name: {{http}}
    #    port: {{85}}
    {% endraw %}
    #    targetPort: 8085

#
# Overwrite the CCSM specific settings
#

# Overwrite the AUSF Helm values here
eric-ccsm-ausf:
  enabled: true
  eric-ausf-capacity:
    autoscaling:
      minReplicas: {{ minReplica['eric-ausf-capacity'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-ausf-capacity'] | default(10) }}
  eric-ausf-engine:
    autoscaling:
      minReplicas: {{ minReplica['eric-ausf-engine'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-ausf-engine'] | default(20) }}

# Overwrite smsengine Helm values here
eric-ccsm-smsengine:
  autoscaling:
    minReplicas: {{ minReplica['eric-ccsm-smsengine'] | default(2) }}
    maxReplicas: {{ maxReplica['eric-ccsm-smsengine'] | default(94) }}

# Overwrite the UDM Helm values here
eric-ccsm-udm:
  enabled: true
  global:
    hsmconfig:
      hsminstall: false
      hagroup: HA_PED_ST3
      server:
        # define HSM server with endpoint (IP) and serialnum
        - endpoint: 10.198.28.25
          serialnum: "1485999395022"
        - endpoint: 10.198.28.26
          serialnum: "1531778547595"
  eric-udm-amfeenotifications:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-amfeenotifications'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-amfeenotifications'] | default(48) }}
  eric-udm-amfeesubscriptions:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-amfeesubscriptions'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-amfeesubscriptions'] | default(48) }}
  eric-udm-authconf:
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-autoprovisioning:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-autoprovisioning'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-autoprovisioning'] | default(10) }}
  eric-udm-cancelepclocation:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-cancelepclocation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-cancelepclocation'] | default(40) }}
  eric-udm-capacity:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-capacity'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-capacity'] | default(20) }}
  eric-udm-eapauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-eapauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-eapauth'] | default(30) }}
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-eapprimeauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-eapprimeauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-eapprimeauth'] | default(30) }}
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-epsauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-epsauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-epsauth'] | default(90) }}
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-gbaauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-gbaauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-gbaauth'] | default(20) }}
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-imsauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-imsauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-imsauth'] | default(30) }}
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-iratamflocation:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-iratamflocation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-iratamflocation'] | default(40) }}
  eric-udm-iratamfdereg:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-iratamfdereg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-iratamfdereg'] | default(40) }}
  eric-udm-iratsndereg:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-iratsndereg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-iratsndereg'] | default(40) }}
  eric-udm-iwk5g2g:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-iwk5g2g'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-iwk5g2g'] | default(40) }}
  eric-udm-mtsmsdeliverystatus:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-mtsmsdeliverystatus'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-mtsmsdeliverystatus'] | default(186) }}
  eric-udm-mtsmsreadystatus:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-mtsmsreadystatus'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-mtsmsreadystatus'] | default(186) }}
  eric-udm-mtsmsroutinginfo:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-mtsmsroutinginfo'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-mtsmsroutinginfo'] | default(186) }}
  eric-udm-mtsmswaitingdata:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-mtsmswaitingdata'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-mtsmswaitingdata'] | default(94) }}
  eric-udm-mtueinfo:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-mtueinfo'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-mtueinfo'] | default(20) }}
  eric-udm-mtlocation:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-mtlocation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-mtlocation'] | default(20) }}
  eric-udm-pcscfrestnotif:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-pcscfrestnotif'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-pcscfrestnotif'] | default(20) }}
  eric-udm-pcscfrestoration:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-pcscfrestoration'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-pcscfrestoration'] | default(20) }}
  eric-udm-sdmamdata:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmamdata'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmamdata'] | default(40) }}
  eric-udm-sdmimplicitunsub:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmimplicitunsub'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmimplicitunsub'] | default(40) }}
  eric-udm-sdmmultipledataset:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmmultipledataset'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmmultipledataset'] | default(40) }}
  eric-udm-sdmnotif:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmnotif'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmnotif'] | default(10) }}
  eric-udm-sdmnssai:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmnssai'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmnssai'] | default(40) }}
  eric-udm-sdmsmdata:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmsmdata'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmsmdata'] | default(60) }}
  eric-udm-sdmsmfselect:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmsmfselect'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmsmfselect'] | default(40) }}
  eric-udm-sdmsmsdata:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmsmsdata'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmsmsdata'] | default(40) }}
  eric-udm-sdmsmsmngdata:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmsmsmngdata'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmsmsmngdata'] | default(40) }}
  eric-udm-sdmsubscriptions:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmsubscriptions'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmsubscriptions'] | default(80) }}
  eric-udm-sdmuectxtsmf:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmuectxtsmf'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmuectxtsmf'] | default(40) }}
  eric-udm-sdmuectxtsmsf:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sdmuectxtsmsf'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-sdmuectxtsmsf'] | default(40) }}
  eric-udm-sidf:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-sidf'] | default(1) }}
      maxReplicas: {{ maxReplica['eric-udm-sidf'] | default(10) }}
  eric-udm-ueauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-ueauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-ueauth'] | default(44) }}
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-uecmamfderegnotifier:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmamfderegnotifier'] | default(1) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmamfderegnotifier'] | default(80) }}
  eric-udm-uecmamfget:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmamfget'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmamfget'] | default(20) }}
  eric-udm-uecmamfregupdate:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmamfregupdate'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmamfregupdate'] | default(40) }}
  eric-udm-uecmreg:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmreg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmreg'] | default(80) }}
  eric-udm-uecmsmfderegistration:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmsmfderegistration'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmsmfderegistration'] | default(30) }}
  eric-udm-uecmsmfregistration:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmsmfregistration'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmsmfregistration'] | default(60) }}
  eric-udm-uecmsmsfdereg:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmsmsfdereg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmsmsfdereg'] | default(40) }}
  eric-udm-uecmsmsfregget:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmsmsfregget'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmsmsfregget'] | default(20) }}
  eric-udm-uecmsmsfregistration:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-uecmsmsfregistration'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-uecmsmsfregistration'] | default(40) }}
  eric-udm-ueshcm:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-ueshcm'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-ueshcm'] | default(20) }}
  eric-udm-umtsauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-umtsauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-umtsauth'] | default(94) }}
    appArmorProfile:
      type:
      localhostProfile:
  eric-udm-eesubscribe:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-eesubscribe'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-eesubscribe'] | default(20) }}
    subscription:
      durationTime: "31536000"
  eric-udm-eeunsubscribe:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-eeunsubscribe'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-eeunsubscribe'] | default(10) }}
  eric-udm-eesubsidchangenotif:
    autoscaling:
      minReplicas: {{ minReplica['eric-udm-eesubsidchangenotif'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-udm-eesubsidchangenotif'] | default(20) }}

# Overwrite the EIR Helm values here
eric-ccsm-eir:
  enabled: {{ 'false' if systemProfile == 'small' else 'true' }}
  eric-eir-diametereireic:
    autoscaling:
      minReplicas: {{ minReplica['eric-eir-diametereireic'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-eir-diametereireic'] | default(80) }}
  eric-eir-eireic:
    autoscaling:
      minReplicas: {{ minReplica['eric-eir-eireic'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-eir-eireic'] | default(50) }}
  eric-eir-httpnotifier:
    autoscaling:
      minReplicas: {{ minReplica['eric-eir-httpnotifier'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-eir-httpnotifier'] | default(20) }}
  eric-eir-infocollector:
    autoscaling:
      minReplicas: {{ minReplica['eric-eir-infocollector'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-eir-infocollector'] | default(20) }}
    persistentVolumeClaim:
      storageClassName: {{ storageClassName|default("network-block") }}
  eric-eir-infocollectorunsucc:
    autoscaling:
      minReplicas: {{ minReplica['eric-eir-infocollectorunsucc'] | default(1) }}
      maxReplicas: {{ maxReplica['eric-eir-infocollectorunsucc'] | default(20) }}
    persistentVolumeClaim:
      storageClassName: {{ storageClassName|default("network-block") }}
  eric-eir-mapeireic:
    autoscaling:
      minReplicas: {{ minReplica['eric-eir-mapeireic'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-eir-mapeireic'] | default(50) }}
  eric-eir-s13diameter:
    autoscaling:
      minReplicas: {{ minReplica['eric-eir-s13diameter'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-eir-s13diameter'] | default(20) }}

# Overwrite the HSS-EPC Helm values here
eric-ccsm-hssepc:
  enabled: true
  eric-hssepc-capacity:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-capacity'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-capacity'] | default(14) }}
  eric-hssepc-mttadsinfo:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-mttadsinfo'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-mttadsinfo'] | default(20) }}
  eric-hssepc-mtuesrvcccap:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-mtuesrvcccap'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-mtuesrvcccap'] | default(20) }}
  eric-hssepc-mtstnsrget:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-mtstnsrget'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-mtstnsrget'] | default(20) }}
  eric-hssepc-mtstnsrput:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-mtstnsrput'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-mtstnsrput'] | default(20) }}
  eric-hssepc-mtlocation:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-mtlocation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-mtlocation'] | default(20) }}
  eric-hssepc-iratsndereg:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-iratsndereg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-iratsndereg'] | default(110) }}
  eric-hssepc-s6aauthentication:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6aauthentication'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6aauthentication'] | default(120) }}
  eric-hssepc-s6acancellocation:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6acancellocation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6acancellocation'] | default(80) }}
  eric-hssepc-s6adeletesubscriber:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6adeletesubscriber'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6adeletesubscriber'] | default(20) }}
  eric-hssepc-s6adiameter:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6adiameter'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6adiameter'] | default(80) }}
  eric-hssepc-s6ainsertsubscriber:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6ainsertsubscriber'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6ainsertsubscriber'] | default(20) }}
  eric-hssepc-s6anotify:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6anotify'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6anotify'] | default(20) }}
  eric-hssepc-s6apurge:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6apurge'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6apurge'] | default(20) }}
  eric-hssepc-s6aupdatelocation:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-s6aupdatelocation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-s6aupdatelocation'] | default(65) }}
  eric-hssepc-soap:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-soap'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-soap'] | default(20) }}
  eric-hssepc-subscriptionupdate:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-subscriptionupdate'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-subscriptionupdate'] | default(20) }}
  eric-hssepc-swxdiameter:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-swxdiameter'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-swxdiameter'] | default(20) }}
  eric-hssepc-swxsarreg:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-swxsarreg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-swxsarreg'] | default(20) }}
  eric-hssepc-swxsardereg:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssepc-swxsardereg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssepc-swxsardereg'] | default(20) }}

# Overwrite the HSS-IMS Helm values here.
eric-ccsm-hssims:
  enabled: {{ 'true' if systemProfile == 'small' else 'false' }}
  eric-hssims-shudrrepodata:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrrepodata'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrrepodata'] | default(20) }}
  eric-hssims-shudrimsi:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrimsi'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrimsi'] | default(20) }}
  eric-hssims-shudrimspublicidentity:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrimspublicidentity'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrimspublicidentity'] | default(20) }}
  eric-hssims-shudrimsuserstate:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrimsuserstate'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrimsuserstate'] | default(20) }}
  eric-hssims-shudrcharginginformation:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrcharginginformation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrcharginginformation'] | default(20) }}
  eric-hssims-shudrscscfname:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrscscfname'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrscscfname'] | default(20) }}
  eric-hssims-shudrmsisdns:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrmsisdns'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrmsisdns'] | default(20) }}
  eric-hssims-shudrtadsinformation:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shudrtadsinformation'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shudrtadsinformation'] | default(20) }}
  eric-hssims-shpur:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shpur'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shpur'] | default(20) }}
  eric-hssims-shsnr:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shsnr'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shsnr'] | default(20) }}
  eric-hssims-soap:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-soap'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-soap'] | default(20) }}
  eric-hssims-shprovnotification:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shprovnotification'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shprovnotification'] | default(20) }}
  eric-hssims-shpnr:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shpnr'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shpnr'] | default(20) }}
  eric-hssims-shdiameter:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-shdiameter'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-shdiameter'] | default(20) }}
  eric-hssims-cxdiameter:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxdiameter'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxdiameter'] | default(20) }}
  eric-hssims-cxlir:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxlir'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxlir'] | default(20) }}
  eric-hssims-cxuar:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxuar'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxuar'] | default(20) }}
  eric-hssims-cxmar:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxmar'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxmar'] | default(20) }}
  eric-hssims-cxsarreg:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxsarreg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxsarreg'] | default(20) }}
  eric-hssims-cxsardereg:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxsardereg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxsardereg'] | default(20) }}
  eric-hssims-cxsarunreg:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxsarunreg'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxsarunreg'] | default(20) }}
  eric-hssims-cxsarauth:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxsarauth'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxsarauth'] | default(20) }}
  eric-hssims-cxprovnotifrtr:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxprovnotifrtr'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxprovnotifrtr'] | default(20) }}
  eric-hssims-cxrtr:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxrtr'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxrtr'] | default(20) }}
  eric-hssims-cxprovnotifppr:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxprovnotifppr'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxprovnotifppr'] | default(20) }}
  eric-hssims-cxppr:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-cxppr'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-cxppr'] | default(20) }}
  eric-hssims-capacity:
    autoscaling:
      minReplicas: {{ minReplica['eric-hssims-capacity'] | default(2) }}
      maxReplicas: {{ maxReplica['eric-hssims-capacity'] | default(10) }}

# Diameter Networking related settings
eric-stm-diameter:
  service:
    {% if caas == 'Tanzu' %}
    diameter:
      ports:
        tcp:
          - port:  3868
            targetPort:  3868
        sctp:
          - port:  3868
            targetPort:  3868
  annotations:
    aviinfrasetting.ako.vmware.com/name: sig-pool
    ako.vmware.com/enable-shared-vip: "dia-ccsm-shared"
    ako.vmware.com/load-balancer-ip: {{ ccsm.diaSigVip }}
    {% else %}
    loadBalancerIP: ""
    annotations:
      {% if systemProfile == 'small' %}
      addressPoolNameDiameterOverTCP: "ccsm{{ instance | default("") }}-dia-sig"
      {% else %}
      addressPoolNameDiameterOverTCP: "dia-sig"
      {% endif %}
      addressPoolNameDiameterOverSCTP: "ccsm{{ instance | default("") }}-dia-sig"
      sharedVIPLabelDiameterOverSCTP: "ccsm-dia-sig"
      {% if systemProfile == 'small' %}
      sharedVIPLabelDiameterOverTCP: "ccsm-dia-sig"
      {% else %}
      sharedVIPLabelDiameterOverTCP: "dia-sig"
      {% endif %}
    diameter:
      ports:
        tcp:
          - port:  3868
            targetPort:  3868
        sctp:
          - port:  3868
            targetPort:  3868
    {% endif %}

# Overwrite the Mapproxy Helm values here
eric-ccsm-mapproxy-1:
  {% if caas == 'Tanzu' %}
  enabled: false #Uncontrolled IP assignment. Not needed in VMware TS 1.5
  {% endif %}
  # Networking related settings
  service:
    loadBalancerIP: ""
    annotations:
      addressPoolName: map-sig
    sctp:
      # The list of ports for traffic
      # default is the list with one port 2905
      port:
        - 2905 # default value

eric-ccsm-mapproxy-2:
  {% if caas == 'Tanzu' %}
  enabled: false
  {% endif %}
  # Networking related settings
  service:
    loadBalancerIP: ""
    annotations:
      addressPoolName: map-sig-2
    sctp:
      # The list of ports for traffic
      # default is the list with one port 2905
      port:
        - 2905 # default value

eric-ccsm-mapproxy-3:
  {% if caas == 'Tanzu' %}
  enabled: false
  {% endif %}
  # Networking related settings
  service:
    loadBalancerIP: ""
    annotations:
      addressPoolName: map-sig-3
    sctp:
      # The list of ports for traffic
      # default is the list with one port 2905
      port:
        - 2905 # default value

eric-ccsm-mapproxy-4:
  {% if caas == 'Tanzu' %}
  enabled: false
  {% endif %}
  # Networking related settings
  service:
    loadBalancerIP: ""
    annotations:
      addressPoolName: map-sig-4
    sctp:
      # The list of ports for traffic
      # default is the list with one port 2905
      port:
        - 2905 # default value

# Overwrite the ADP Generic Services Helm values here
eric-ccsm-adp:
  eric-cm-mediator:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-cm-yang-provider:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    service:
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: oam-pool
          ako.vmware.com/enable-shared-vip: oam-ccsm-shared
          ako.vmware.com/load-balancer-ip: {{ ccsm.ccsmOamVip }}
      {% else %}
      annotations:
        addressPoolName: "ccsm{{ instance | default("") }}-oam"
        sharedVIPLabel: "ccsm-oam"
      loadBalancerIP: ""
      {% endif %}
      type: LoadBalancer
  eric-cnom-server:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    {# The following if/else block is to be compatible with old way to generate FQDN #}
    {# The new way is to explicitly provide the FQDN, old way should be removed in the future #}
    {% if cnom is defined %}
    fqdn: {{ cnom.fqdn }}
    {% else %}
    fqdn: cnom.{{ vnflcm.namespace }}.{{ vnflcm.clusterName }}.{{ oamDomain }}
    {% endif %}
    legalNotice: >
      IF YOU ARE NOT AN AUTHORIZED USER, PLEASE EXIT IMMEDIATELY


      This system processes personal information. Handle personal information
      with care.  Misuse, including unauthorized access, is grounds for legal
      action.  Version: 1.0, Date: October 27, 2020.
  eric-ctrl-bro:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    persistence:
      persistentVolumeClaim:
        size: 2Gi
        storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-coordinator-zk:
    nodeSelector:
      brAgent: {}
      #  ericsson-5gc-se/vnf: ccsm
      datacoordinatorzk: {}
      #  ericsson-5gc-se/vnf: ccsm
    persistence:
      persistentVolumeClaim:
        size: 10Gi
        storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-distributed-coordinator-ed:
    nodeSelector:
      brAgent: {}
      #  ericsson-5gc-se/vnf: ccsm
      dced: {}
      #  ericsson-5gc-se/vnf: ccsm
    persistence:
      brAgent:
        backupVolume:
          storageClassName: {{ storageClassName|default("network-block") }}
      persistentVolumeClaim:
        size: 2Gi
        storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-document-database-pg:
    nodeSelector:
      brAgent: {}
      #  ericsson-5gc-se/vnf: ccsm
      cleanuphook: {}
      #  ericsson-5gc-se/vnf: ccsm
      postgres: {}
      #  ericsson-5gc-se/vnf: ccsm
    persistentVolumeClaim:
      size: 8Gi
      storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-document-database-pg-ah:
    nodeSelector:
      brAgent: {}
      #  ericsson-5gc-se/vnf: ccsm
      cleanuphook: {}
      #  ericsson-5gc-se/vnf: ccsm
      postgres: {}
      #  ericsson-5gc-se/vnf: ccsm
    persistentVolumeClaim:
      size: 4Gi
      storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-document-database-pg-lm:
    nodeSelector:
      brAgent: {}
      #  ericsson-5gc-se/vnf: ccsm
      cleanuphook: {}
      #  ericsson-5gc-se/vnf: ccsm
      postgres: {}
      #  ericsson-5gc-se/vnf: ccsm
    persistentVolumeClaim:
      size: 4Gi
      storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-message-bus-kf:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    persistence:
      persistentVolumeClaim:
        size: 10Gi
        storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-object-storage-mn:
    persistentVolumeClaim:
      storageClassName: {{ storageClassName|default("network-block") }}
    affinity:
      ##
      # Set 'soft' when number of available workers less than 4.
      # Set 'hard' when number of available workers is 4 or more.
      podAntiAffinity: "hard"
  eric-data-search-engine:
    nodeSelector:
      bragent: {}
      #  ericsson-5gc-se/vnf: ccsm
      data: {}
      #  ericsson-5gc-se/vnf: ccsm
      ingest: {}
      #  ericsson-5gc-se/vnf: ccsm
      master: {}
      #  ericsson-5gc-se/vnf: ccsm
    persistence:
      backup:
        persistentVolumeClaim:
          size: 16Mi
          storageClassName: {{ storageClassName|default("network-block") }}
      data:
        persistentVolumeClaim:
          size: 100Gi
          storageClassName: {{ storageClassName|default("network-block") }}
      master:
        persistentVolumeClaim:
          size: 64Mi
          storageClassName: {{ storageClassName|default("network-block") }}
  eric-data-search-engine-curator:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-fh-alarm-handler:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-fh-snmp-alarm-provider:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    service:
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: oam-pool
          ako.vmware.com/enable-shared-vip: oam-ccsm-shared
          ako.vmware.com/load-balancer-ip: {{ ccsm.ccsmOamVip }}
      {% else %}
      annotations:
        addressPoolName: "ccsm{{ instance | default("") }}-oam"
        sharedVIPLabel: "ccsm-oam"
      loadBalancerIP: ""
      {% endif %}
      type: LoadBalancer
    sourceIdentifierType: 1
    sourceIdentifier: ""
  eric-lm-combined-server:
    licenseConsumerHandler:
      nodeSelector: {}
      #  ericsson-5gc-se/vnf: ccsm
    licenseServerClient:
      licenseServer:
        thrift:
          host: "{{ nels.host }}"
          port: {{ nels.port }}
      nodeSelector: {}
      #  ericsson-5gc-se/vnf: ccsm
    licenseServerIpAddresses:
      # licenseServerIpAddresses.ip1 - the first IP address of a license server in the hosts file
      ip1:
      # licenseServerIpAddresses.ip2 - the second IP address of a license server in the hosts file for Geographical Redundency
      ip2:
  eric-lm-unique-object-reporter:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    uoi:
      hostname: "{{ nels.host }}"
      ip:
      port: 8060
  eric-log-shipper:
    nodeSelector: {}
    {% if caas == 'OpenShift' %}
    rbac:
      automountServiceAccountToken: true
      createClusterRole: true
      createClusterRoleBinding: true
    logshipper:
      privileged: true
      cfgData: ""
      autodiscover:
        enabled: true
        namespace: ".RELEASE.NAMESPACE"
        logplane: adp-app-logs
        paths:
          - /var/log/pods/${data.kubernetes.namespace}_${data.kubernetes.pod.name}_${data.kubernetes.pod.uid}/**/*.log
        useContainerInput: true
    additionalVolumes: |
      - name: crio-containers
        hostPath:
          path: /var/log/containers
      - name: kubernetes-containers
        hostPath:
          path: /var/log/pods
    additionalVolumeMounts: |
      - name: crio-containers
        mountPath: /var/log/containers
        readOnly: true
      - name: kubernetes-containers
        mountPath: /var/log/pods
        readOnly: true
    {% endif %}
    #  ericsson-5gc-se/vnf: ccsm
  eric-log-transformer:
    egress:
      syslog:
        enabled: false
        defaultFacility: 1
        defaultSeverity: 5
        tls:
          enabled: true
        certificates:
          asymmetricKeyCertificateName: log-syslog-client
          trustedCertificateListName: log-syslog-client
        remoteHosts: []
        inclusions: []
        exclusions: []
        filter: ""
    networkPolicy:
      egress: {}
        #- cidr: 172.17.0.0/32
        #  ports:
        #  - protocol: TCP
        #    port: 1234
        #  - protocol: UDP
        #    port: 2345
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-odca-diagnostic-data-collector:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-pm-bulk-reporter:
    env:
      nodeName: {{ nodeName }}
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    persistentVolumeClaim:
      size: 500Mi
      storageClassName: {{ storageClassName|default("network-block") }}
    service:
      {% if caas == 'Tanzu' %}
      annotations:
        aviinfrasetting.ako.vmware.com/name: oam-pool
        ako.vmware.com/enable-shared-vip: oam-ccsm-shared
        ako.vmware.com/load-balancer-ip: {{ ccsm.ccsmOamVip }}
      {% else %}
      annotations:
        addressPoolName: "ccsm{{ instance | default("") }}-oam"
        sharedVIPLabel: "ccsm-oam"
      loadBalancerIP: ""
      {% endif %}
      type: LoadBalancer
  eric-pm-server:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    server:
      nodeSelector: {}
      #  ericsson-5gc-se/vnf: ccsm
      extraArgs:
        storage.tsdb.retention.size: 75GB
      persistentVolume:
        size: 80Gi
        storageClass: {{ storageClassName|default("network-block") }}
    rbac:
      appMonitoring:
        enabled: {{ appMonitoring|default("true") }}
        {% if caas == "CNIS" %}
        federation:
          jobOverride: true
          jobConfiguration: |
             - job_name: 'federate-victoria'
               scrape_interval: 1m
               honor_labels: true
               metrics_path: '/select/0/prometheus/federate'
               params:
                 'match[]':
                   - '{job="kubernetes-nodes",namespace="{{ vnflcm.namespace }}"}'
                   - '{job="kubernetes-nodes-cadvisor",namespace="{{ vnflcm.namespace }}"}'
               static_configs:
                 - targets:
                   - 'eric-victoria-metrics-cluster-vmselect.monitoring:8481'
        {% else %}
        federation:
          jobOverride: false
          jobConfiguration: |
            #- job_name: 'federate-3pp-caas'
            #  scrape_interval: 15s
            #  honor_labels: true
            #  metrics_path: '/federate'
            #  params:
            #    'match[]':
            #      - '{job="kubernetes-nodes",namespace="eric-ccsm"}'
            #      - '{job="kubernetes-nodes-cadvisor",namespace="eric-ccsm"}'
            #  static_configs:
            #    - targets:
            #      - 'eric-pm-server.monitoring:9090'
        {% endif %}

  eric-sec-admin-user-management:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
    notices:
      legal: "IF YOU ARE NOT AN AUTHORIZED USER, PLEASE EXIT IMMEDIATELY"
      privacy: >
        This system processes personal information. Handle personal information
        with care.  Misuse, including unauthorized access, is grounds for legal
        action. Version: 1.0, Date: October 27, 2020.
  eric-sec-certm:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-sec-key-management:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-sec-ldap-server:
    nodeSelector:
      ldap: {}
      #  ericsson-5gc-se/vnf: ccsm
      ldapAgent: {}
      #  ericsson-5gc-se/vnf: ccsm
    persistentVolumeClaim:
      storageClassName: {{ storageClassName|default("network-block") }}
  eric-sec-sip-tls:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-si-application-sys-info-handler:
    asih:
      ##
      # It is the main OaM identifier of Application and it is used to support
      # correlation among different functionalities visible to the Operator
      # like logs, metrics, alarms, CLI prompt just to mention some.
      # Format: Must contains 1..32 printable ASCII characters that contains only
      #   lowercase alphanumeric characters, '-' or '.', starts and ends with
      #   an alphanumeric character.
      applicationId: "{{ nodeName }}"
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-sw-inventory-manager:
    nodeSelector: {}
    #  ericsson-5gc-se/vnf: ccsm
  eric-tm-ingress-controller-cr:
    nodeSelector:
      contour: {}
      #  ericsson-5gc-se/vnf: ccsm
      envoy: {}
      #  ericsson-5gc-se/vnf: ccsm
    service:
      {% if caas == 'Tanzu' %}
      annotations:
        cloudProviderLB:
          aviinfrasetting.ako.vmware.com/name: oam-pool
          ako.vmware.com/enable-shared-vip: oam-ccsm-shared
          ako.vmware.com/load-balancer-ip: {{ ccsm.ccsmOamVip }}
      {% else %}
      annotations:
        addressPoolName: "ccsm{{ instance | default("") }}-oam"
        sharedVIPLabel: "ccsm-oam"
      {% endif %}
    {% if caas == 'OpenShift' %}
    # According ADP Service User Guide
    resources:
      contour:
        limits:
          cpu: 300m
          memory: 1000Mi
      envoy:
        limits:
          cpu: "2"
          memory: 600Mi
    {% endif %}
    {% if systemProfile == 'small' %}
    # According to ADP Service User Guide
    resources:
      contour:
        limits:
          memory: 600Mi
      envoy:
        limits:
          memory: 600Mi
    {% endif %}

# Overwrite networkPolicy enabling here
networkPolicy:
  enabled: true

# Overwrite the NRF-Agent Helm values here
eric-ccsm-nrfagent:
  global:
    tapagent:
      enabled: {{ vtap.tapagent|default(true)|string|lower }}
      {% if systemProfile == 'small' %}
      egress_exclude_ips: "10.255.0.0/16,192.168.0.0/16"
      {% else %}
      egress_exclude_ips: "10.96.0.0/12,192.168.0.0/16"
      {% endif %}
